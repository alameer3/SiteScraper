{% extends "base.html" %}

{% block title %}تحليل الإعلانات - محلل المواقع المتطور{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- رأس الصفحة -->
            <div class="text-center mb-5">
                <h1 class="display-4 mb-3">
                    <i data-feather="shield-off" class="me-3"></i>
                    تحليل وحظر الإعلانات
                </h1>
                <p class="lead text-muted">
                    اكتشاف وإزالة الإعلانات والمحتوى غير المرغوب فيه من المواقع
                </p>
            </div>

            <!-- نموذج التحليل -->
            <div class="card border-0 shadow-lg mb-4">
                <div class="card-body p-4">
                    <form method="POST" action="{{ url_for('analyze_ads') }}" class="needs-validation" novalidate>
                        <div class="row">
                            <div class="col-md-8">
                                <div class="form-floating mb-3">
                                    <input 
                                        type="url" 
                                        class="form-control form-control-lg" 
                                        id="url" 
                                        name="url" 
                                        placeholder="https://example.com"
                                        required
                                    >
                                    <label for="url">
                                        <i data-feather="globe" class="me-2"></i>
                                        رابط الموقع المراد تحليله
                                    </label>
                                    <div class="invalid-feedback">
                                        يرجى إدخال رابط صحيح
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <button type="submit" class="btn btn-warning btn-lg w-100 h-100">
                                    <i data-feather="eye-off" class="me-2"></i>
                                    تحليل الإعلانات
                                </button>
                            </div>
                        </div>

                        <!-- خيارات التحليل -->
                        <div class="row mt-3">
                            <div class="col-md-6">
                                <div class="form-check form-switch">
                                    <input 
                                        class="form-check-input" 
                                        type="checkbox" 
                                        id="remove_ads" 
                                        name="remove_ads"
                                        checked
                                    >
                                    <label class="form-check-label" for="remove_ads">
                                        <i data-feather="trash-2" class="me-2"></i>
                                        إزالة الإعلانات والمحتوى الضار
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-check form-switch">
                                    <input 
                                        class="form-check-input" 
                                        type="checkbox" 
                                        id="mask_data" 
                                        name="mask_data"
                                        checked
                                    >
                                    <label class="form-check-label" for="mask_data">
                                        <i data-feather="eye-off" class="me-2"></i>
                                        إخفاء البيانات الحساسة
                                    </label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- معلومات النظام -->
            <div class="row mb-4">
                <div class="col-md-4">
                    <div class="card border-0 bg-danger bg-opacity-10 h-100">
                        <div class="card-body text-center">
                            <i data-feather="shield-off" class="text-danger mb-3" style="width: 48px; height: 48px;"></i>
                            <h5 class="card-title text-danger">حظر الإعلانات</h5>
                            <p class="card-text small">
                                إزالة الإعلانات والنوافذ المنبثقة والمحتوى الترويجي
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 bg-warning bg-opacity-10 h-100">
                        <div class="card-body text-center">
                            <i data-feather="eye" class="text-warning mb-3" style="width: 48px; height: 48px;"></i>
                            <h5 class="card-title text-warning">حماية الخصوصية</h5>
                            <p class="card-text small">
                                منع المتتبعات وحماية البيانات الشخصية
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 bg-success bg-opacity-10 h-100">
                        <div class="card-body text-center">
                            <i data-feather="zap" class="text-success mb-3" style="width: 48px; height: 48px;"></i>
                            <h5 class="card-title text-success">كشف التهديدات</h5>
                            <p class="card-text small">
                                اكتشاف البرمجيات الخبيثة والمحتوى المشبوه
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- إحصائيات الحماية -->
            <div class="card border-0 bg-light mb-4">
                <div class="card-body">
                    <h5 class="card-title">
                        <i data-feather="bar-chart-2" class="me-2"></i>
                        إحصائيات نظام الحماية
                    </h5>
                    <div class="row text-center">
                        <div class="col-6 col-md-3">
                            <div class="border-end">
                                <h4 class="text-danger mb-1">50+</h4>
                                <small class="text-muted">نطاق إعلاني محظور</small>
                            </div>
                        </div>
                        <div class="col-6 col-md-3">
                            <div class="border-end">
                                <h4 class="text-warning mb-1">100+</h4>
                                <small class="text-muted">محدد CSS للإعلانات</small>
                            </div>
                        </div>
                        <div class="col-6 col-md-3">
                            <div class="border-end">
                                <h4 class="text-info mb-1">20+</h4>
                                <small class="text-muted">نمط تهديد</small>
                            </div>
                        </div>
                        <div class="col-6 col-md-3">
                            <div>
                                <h4 class="text-success mb-1">99%</h4>
                                <small class="text-muted">معدل الكشف</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- المزايا المتاحة -->
            <div class="card border-0 bg-gradient-primary text-white">
                <div class="card-body">
                    <h5 class="card-title text-white">
                        <i data-feather="star" class="me-2"></i>
                        المزايا المتطورة
                    </h5>
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-unstyled mb-0">
                                <li class="mb-2">
                                    <i data-feather="check" class="me-2"></i>
                                    إزالة ذكية للإعلانات
                                </li>
                                <li class="mb-2">
                                    <i data-feather="check" class="me-2"></i>
                                    حماية من المتتبعات
                                </li>
                                <li class="mb-0">
                                    <i data-feather="check" class="me-2"></i>
                                    فحص التهديدات الأمنية
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-unstyled mb-0">
                                <li class="mb-2">
                                    <i data-feather="check" class="me-2"></i>
                                    إخفاء البيانات الحساسة
                                </li>
                                <li class="mb-2">
                                    <i data-feather="check" class="me-2"></i>
                                    تقارير مفصلة
                                </li>
                                <li class="mb-0">
                                    <i data-feather="check" class="me-2"></i>
                                    واجهة برمجة تطبيقات
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// تفعيل رموز Feather
feather.replace();

// التحقق من صحة النموذج
(function() {
    'use strict';
    window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    }, false);
})();
</script>
{% endblock %}